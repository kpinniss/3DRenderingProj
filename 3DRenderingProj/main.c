#include <stdio.h>
#include <SDL.h>
#include <stdbool.h>
#include "constants.h"

///////////////////////////////////////////////////////////////////////////////
// Global variables
///////////////////////////////////////////////////////////////////////////////
SDL_Window* window = NULL;
SDL_Renderer* rndr = NULL;
bool appRunning = false;

///////////////////////////////////////////////////////////////////////////////
// Init SDL Window
///////////////////////////////////////////////////////////////////////////////
bool initiateWindow(void) {
	// try init SDL
	bool successInit = !SDL_Init(SDL_INIT_EVERYTHING);
	if (!successInit){
		fprintf(stderr, "Error initializing SDL. \n");
		return false;
	}
	// Create a SDL window
	window = SDL_CreateWindow(
		NULL,
		SDL_WINDOWPOS_CENTERED,
		SDL_WINDOWPOS_CENTERED,
		WINDOW_HEIGHT,
		WINDOW_WIDTH,
		SDL_WINDOW_ALWAYS_ON_TOP
	);
	//Check if window is created successfully
	if (!window) {
		fprintf(stderr, "Error creating SDL window. \n");
		return false;
	}
	//Create SDL renderer
	rndr = SDL_CreateRenderer(window, DEFAULT_INDEX, 0);
	//Check if render was created successfully
	if (!rndr) {
		fprintf(stderr, "Error creating rednerer. \n");
		return false;
	}
	return true;
}
///////////////////////////////////////////////////////////////////////////////
// Setup
///////////////////////////////////////////////////////////////////////////////
void setup(void) {
	printf("App started...");
}

///////////////////////////////////////////////////////////////////////////////
// Handle user inputs
///////////////////////////////////////////////////////////////////////////////
void processInput(void) {
	//TODO:
}

///////////////////////////////////////////////////////////////////////////////
// update values
///////////////////////////////////////////////////////////////////////////////
void update(void) {
	//TODO:
}

///////////////////////////////////////////////////////////////////////////////
// render 
///////////////////////////////////////////////////////////////////////////////
void render(void) {
	//TODO:
}

///////////////////////////////////////////////////////////////////////////////
// main iteration
///////////////////////////////////////////////////////////////////////////////
int main(void) {

    appRunning = initiateWindow();

	setup();

	while (appRunning) {
		processInput();
		update();
		render();
	}
	
	return 0;
}